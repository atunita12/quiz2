using System;
using System.Collections.Generic;

public class Employee
{
    public string Name { get; set; }
    public int EmployeeID { get; set; }
    public decimal Salary { get; set; }

    // Constructor for Employee class
    public Employee(string name, int employeeId, decimal salary)
    {
        Name = name;
        EmployeeID = employeeId;
        Salary = salary;
    }
}

public class RegularEmployee : Employee
{
    public RegularEmployee(string name, int employeeId, decimal salary) 
        : base(name, employeeId, salary)  // Calling the base constructor
    {
        // No additional properties needed
    }
}

public class Manager : Employee
{
    public double BonusRate { get; set; }

    public Manager(string name, int employeeId, decimal salary, double bonusRate) 
        : base(name, employeeId, salary) // Calling the base constructor
    {
        BonusRate = bonusRate;
    }
}

public class Product
{
    public string Name { get; set; }
    public int ProductID { get; set; }
    public decimal Price { get; set; }

    public Product(string name, int productId, decimal price)
    {
        Name = name;
        ProductID = productId;
        Price = price;
    }
}

public class Order
{
    public int OrderID { get; set; }
    public List<Product> PurchasedProducts { get; set; }
    public Employee ProcessedBy { get; set; }

    public Order(int orderId, Employee processedBy)
    {
        OrderID = orderId;
        ProcessedBy = processedBy;
        PurchasedProducts = new List<Product>();
    }

    public decimal TotalPrice
    {
        get
        {
            decimal total = 0;
            foreach (var product in PurchasedProducts)
            {
                total += product.Price;
            }
            return total;
        }
    }
}

class Program
{
    static void Main(string[] args)
    {
        // Create instances of RegularEmployee and Manager
        RegularEmployee regularEmployee = new RegularEmployee("Alice Johnson", 201, 60000m);
        Manager manager = new Manager("Bob Smith", 202, 90000m, 0.10);

        // Create instances of Product
        Product product1 = new Product("Smartphone", 101, 699.99m);
        Product product2 = new Product("Laptop", 102, 1299.99m);
        Product product3 = new Product("Headphones", 103, 199.99m);

        // Create an Order
        Order order = new Order(301, regularEmployee);
        order.PurchasedProducts.Add(product1);
        order.PurchasedProducts.Add(product2);
        order.PurchasedProducts.Add(product3);

        // Display order details
        Console.WriteLine($"Order ID: {order.OrderID}");
        Console.WriteLine($"Processed By: {order.ProcessedBy.Name}");
        Console.WriteLine("Products Purchased:");
        foreach (var product in order.PurchasedProducts)
        {
            Console.WriteLine($"- {product.Name} (ID: {product.ProductID}, Price: {product.Price:C})");
        }
        Console.WriteLine($"Total Price: {order.TotalPrice:C}");
    }
}

